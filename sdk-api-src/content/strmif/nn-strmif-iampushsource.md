---
UID: NN:strmif.IAMPushSource
title: IAMPushSource (strmif.h)
author: windows-sdk-content
description: The IAMPushSource interface synchronizes a filter graph that renders a live source.
old-location: dshow\iampushsource.htm
tech.root: DirectShow
ms.assetid: 5ab294a8-f250-405c-a589-68998bc04cdf
ms.author: windowssdkdev
ms.date: 12/05/2018
ms.keywords: IAMPushSource, IAMPushSource interface [DirectShow], IAMPushSource interface [DirectShow],described, IAMPushSourceInterface, dshow.iampushsource, strmif/IAMPushSource
ms.topic: interface
req.header: strmif.h
req.include-header: Dshow.h
req.target-type: Windows
req.target-min-winverclnt: Windows XP [desktop apps only]
req.target-min-winversvr: Windows Server 2003 [desktop apps only]
req.kmdf-ver: 
req.umdf-ver: 
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.lib: Strmiids.lib
req.dll: 
req.irql: 
topic_type:
 - APIRef
 - kbSyntax
api_type:
 - COM
api_location:
 - Strmiids.lib
 - Strmiids.dll
api_name:
 - IAMPushSource
product: Windows
targetos: Windows
req.typenames: 
req.redist: 
---

# IAMPushSource interface


## -description



The <code>IAMPushSource</code> interface synchronizes a filter graph that renders a live source. A live source is a source that streams data in real time, such as a capture device or a network broadcast.

Source filters that stream live data should expose this interface on their output pins. Generally, applications should not call the methods on this interface; instead, use the <a href="https://msdn.microsoft.com/30d44536-2a2d-44ab-bafc-bdb851cd272b">IAMGraphStreams</a> interface.




## -inheritance

The <b xmlns:loc="http://microsoft.com/wdcml/l10n">IAMPushSource</b> interface inherits from <a href="https://msdn.microsoft.com/83384ef6-40d6-4d37-866d-6059dc5d7542">IAMLatency</a>. <b>IAMPushSource</b> also has these types of members:
<ul>
<li><a href="https://docs.microsoft.com/">Methods</a></li>
</ul>

## -members

The <b>IAMPushSource</b> interface has these methods.
<table class="members" id="memberListMethods">
<tr>
<th align="left" width="37%">Method</th>
<th align="left" width="63%">Description</th>
</tr>
<tr data="declared;">
<td align="left" width="37%">
<a href="https://msdn.microsoft.com/503ec642-0a86-47b9-b453-08ab90346630">GetMaxStreamOffset</a>
</td>
<td align="left" width="63%">
Retrieves the maximum stream offset the filter can support.

</td>
</tr>
<tr data="declared;">
<td align="left" width="37%">
<a href="https://msdn.microsoft.com/3e72367f-a066-43ad-9f96-648cad13b43d">GetPushSourceFlags</a>
</td>
<td align="left" width="63%">
Retrieves a combination of flags describing the behavior of the filter.

</td>
</tr>
<tr data="declared;">
<td align="left" width="37%">
<a href="https://msdn.microsoft.com/249d5262-e02d-4df7-a968-0680b64ab7d4">GetStreamOffset</a>
</td>
<td align="left" width="63%">
Retrieves the offset that the filter uses when generating time stamps.

</td>
</tr>
<tr data="declared;">
<td align="left" width="37%">
<a href="https://msdn.microsoft.com/bbe0aa06-f680-4637-beb3-b94139ee0d54">SetMaxStreamOffset</a>
</td>
<td align="left" width="63%">
Reference time specifying the maximum stream offset.

</td>
</tr>
<tr data="declared;">
<td align="left" width="37%">
<a href="https://msdn.microsoft.com/c07bbf7e-8d81-4eba-a5a1-fde02e8e8c35">SetPushSourceFlags</a>
</td>
<td align="left" width="63%">
Sets flags that specify the behavior of the filter.

</td>
</tr>
<tr data="declared;">
<td align="left" width="37%">
<a href="https://msdn.microsoft.com/a80d9f2e-6552-4bbb-9593-c1bef892548a">SetStreamOffset</a>
</td>
<td align="left" width="63%">
Sets the offset for time stamps generated by this filter.

</td>
</tr>
</table> 


## -remarks



The Filter Graph Manager uses the methods on this interface to address two problems that commonly occur when rendering live sources:

<ul>
<li>Latency: When a filter graph includes more than one live source, the sources often have different latencies, which can cause them to be out of sync. For example, if audio capture has a longer latency time than video capture, the audio will lag behind the video unless the graph compensates for the difference.</li>
<li>Rate Matching: When a renderer filter is connected to a live source, it must adjust its data consumption rate to match the source filter's production rate. Otherwise, there might be gaps in the data (if the renderer runs faster than the source) or data might get dropped (if the source runs faster).</li>
</ul>
To correct for latency, the filter graph calls <a href="https://msdn.microsoft.com/5c5f6a73-d216-4a26-958e-ce8055575d17">IAMLatency::GetLatency</a> on each output pin that exposes the <code>IAMPushSource</code> interface, and determines the maximum latency in the graph. It then calls <a href="https://msdn.microsoft.com/a80d9f2e-6552-4bbb-9593-c1bef892548a">IAMPushSource::SetStreamOffset</a> on any filters with less than the maximum latency, so that they will adjust the time stamps they generate by the correct offset.

To perform rate matching, the filter graph needs to determine whether the renderer filter can match clock rates with the source filter. The <a href="https://msdn.microsoft.com/3e72367f-a066-43ad-9f96-648cad13b43d">IAMPushSource::GetPushSourceFlags</a> method returns a set of flags indicating whether it is safe for the renderer to match rates with the source.

These issues do not affect capturing to a file. The <a href="https://msdn.microsoft.com/2bfbea8a-679f-4656-9ff3-fdf34aa0eb26">File Writer</a> filter relies on time stamps on the incoming samples to write the file correctly; the streams are then synchronized during playback. As for rate matching, the data is always written to the file as fast as possible.




## -see-also




<a href="https://msdn.microsoft.com/83384ef6-40d6-4d37-866d-6059dc5d7542">IAMLatency</a>
 

 

